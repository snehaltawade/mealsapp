(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{80:function(e,t,n){},81:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var i=n(19),c=n.n(i),s=(n(80),n(81),n(11)),o=n(0),a=n.n(o).a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){}}),r=n(2),l=function(e){return Object(r.jsx)("div",{className:"backdrop",onClick:e.onClick})},m=function(e){return Object(r.jsx)("div",{className:"modalOverlay",children:Object(r.jsx)("div",{className:"content",children:e.children})})},d=document.getElementById("overlays"),u=function(e){return Object(r.jsxs)(o.Fragment,{children:[c.a.createPortal(Object(r.jsx)(l,{onClick:e.onClose}),d),c.a.createPortal(Object(r.jsx)(m,{children:e.children}),d)]})},j=function(e){var t,n=Object(o.useContext)(a),i=n.totalAmount>0,c=function(e){console.log("inside remove item",e),n.removeItem({id:e})},s=function(e){console.log("inside add item",e),n.addItem({id:e.id,name:e.name,amount:1,price:e.price})};return t=Object(r.jsx)("ul",{className:"cart-items",children:n.items.map((function(e){return Object(r.jsxs)("li",{className:"itemDiv",children:[Object(r.jsxs)("div",{style:{width:"50%"},children:[Object(r.jsx)("li",{className:"item-name",children:e.name}),Object(r.jsx)("li",{className:"item-price",children:e.price}),Object(r.jsxs)("button",{style:{background:"white",color:"#ff5200",border:"white",fontSize:"large",fontWeight:"bolder"},children:["X ",e.amount]})]}),Object(r.jsxs)("div",{className:"buttons",children:[Object(r.jsx)("button",{onClick:c.bind(null,e.id),children:"-"}),Object(r.jsx)("button",{onClick:s.bind(null,e),children:"+"})]})]})}))}),Object(r.jsx)(u,{onClose:e.onClose,children:Object(r.jsxs)("div",{className:"cartClass",children:[Object(r.jsx)("div",{children:t}),Object(r.jsxs)("div",{className:"total",children:[Object(r.jsx)("span",{children:"Total Amount"}),Object(r.jsxs)("span",{children:["Rs. ",n.totalAmount]})]}),Object(r.jsxs)("div",{className:"action",children:[Object(r.jsx)("button",{className:"close-btn",onClick:e.onClose,children:"Close"}),i&&Object(r.jsx)("button",{className:"order-btn",children:"Order"})]})]})})},b=n.p+"static/media/meals.2971f633.jpg",h=n(63),O=n.n(h),x=function(e){var t,n=Object(o.useContext)(a),i=Object(o.useState)(!1),c=Object(s.a)(i,2),l=c[0],m=c[1];t=n.items.reduce((function(e,t){return e+t.amount}),0);var d=n.items,u="cart-button".concat(" ",l?"bump":"");return Object(o.useEffect)((function(){if(0!==n.items.length){m(!0);var e=setTimeout((function(){m(!1)}),300);return function(){clearTimeout(e)}}}),[d]),Object(r.jsxs)("button",{className:u,onClick:e.onClick,children:[Object(r.jsxs)("span",{children:[" ",Object(r.jsx)(O.a,{})," "]}),Object(r.jsx)("span",{className:"cartNumber",children:t})]})};var p=function(e){return Object(r.jsxs)(o.Fragment,{children:[Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)("h1",{children:"Meals "}),Object(r.jsx)(x,{onClick:e.onShowCart})]}),Object(r.jsx)("div",{className:"main-img",children:Object(r.jsx)("img",{src:b,alt:"food"})})]})},f=function(e){return Object(r.jsx)("div",{className:"card",children:e.children})},v=n(129),g=n(128),y=function(e){var t=Object(o.useContext)(a),n=Object(o.useState)(!0),i=Object(s.a)(n,2),c=i[0],l=i[1],m=Object(o.useRef)(0);return Object(r.jsxs)("form",{className:"form",onSubmit:function(n){n.preventDefault();var i=m.current.value,c=+i;console.log("entered->",i),(0===i.trim().length||c<1||i>5)&&l(!1),console.log("Inside MealItemForm ",c);var s=t.items;console.log(s),s.forEach((function(t){t.id==e.id&&console.log("true")})),e.onAddToCart(c)},children:[Object(r.jsx)(g.a,{type:"number",label:"Amount",inputRef:m,defaultValue:1,InputProps:{inputProps:{min:"0",max:"5",step:"1",id:"amount_"+e.id}}}),Object(r.jsx)(v.a,{variant:"contained",type:"submit",onClick:function(e){t.items},children:"+ Add"}),!c&&Object(r.jsx)("p",{children:"Please enter valid amount in range [0-5]."})]})},C=n(130),N=function(e){var t="$".concat(e.price.toFixed(2)),n=Object(o.useContext)(a);return Object(r.jsxs)(C.a,{container:!0,spacing:2,className:"mealItem",children:[Object(r.jsxs)(C.a,{item:!0,xs:8,children:[Object(r.jsx)("div",{className:"name",children:e.name}),Object(r.jsx)("div",{className:"description",children:e.description}),Object(r.jsx)("div",{className:"price",children:t})]}),Object(r.jsx)(C.a,{item:!0,xs:4,children:Object(r.jsx)(y,{id:e.id,onAddToCart:function(t){console.log(t,"inside MealItem"),n.addItem({id:e.id,name:e.name,amount:t,price:e.price})}})})]})},k=[{id:"m1",name:"Chiken Dum Biryani",description:"Mouth watering, yummilicious, testy chiken biryani served with rayta",price:90},{id:"m2",name:"Chiken Hydreabadi Biryani",description:"Mouth watering, yummilicious, testy chiken biryani served with rayta",price:110},{id:"m3",name:"Chiken Tandoor Biryani",description:"Mouth watering, yummilicious, testy chiken biryani served with rayta",price:95},{id:"m4",name:"Chiken pudina rich Biryani",description:"Mouth watering, yummilicious, testy chiken biryani served with rayta",price:80}],A=function(){var e=k.map((function(e){return Object(r.jsx)(N,{name:e.name,description:e.description,price:e.price,id:e.id},e.id)}));return Object(r.jsx)(f,{children:Object(r.jsx)("ul",{children:e})})},I=function(){return Object(r.jsxs)("section",{className:"mealsSummary",children:[Object(r.jsx)("h1",{children:"Delicious testy meals"}),Object(r.jsx)("p",{children:"some test about meals.some test about mealssome test about mealssome test about mealssome test about mealssome test about meals"}),Object(r.jsx)("p",{children:"some test about meals.some test about meals"})]})},w=function(){return Object(r.jsxs)("div",{className:"meals",children:[Object(r.jsx)(I,{}),Object(r.jsx)(A,{})]})},S=n(14),M=n(37),B={items:[],totalAmount:0},P=function(e,t){if("Add"===t.type){var n,i,c=e.totalAmount+t.item.price*t.item.amount,s=e.items.findIndex((function(e){return e.id===t.item.id})),o=e.items[s];return o?(i=Object(M.a)(Object(M.a)({},o),{},{amount:o.amount+t.item.amount}),(n=Object(S.a)(e.items))[s]=i,console.log("updated")):(n=e.items.concat(t.item),console.log("Added")),{items:n,totalAmount:c}}if("Remove"===t.type){console.log("inside remove",t.id.id);var a,r=e.items.findIndex((function(e){return e.id===t.id.id})),l=e.items[r];c=e.totalAmount-l.price;console.log(r,l);var m=[];return console.log("inside if"),l.amount>1?(console.log("here",l.amount),a=Object(M.a)(Object(M.a)({},l),{},{amount:l.amount-1}),(m=Object(S.a)(e.items))[r]=a,console.log(l.amount," updated count")):(console.log("inside 2nd else"),e.items.splice(r,1)),{items:m,totalAmount:c}}return B},R=function(e){var t=Object(o.useReducer)(P,B),n=Object(s.a)(t,2),i=n[0],c=n[1],l={items:i.items,totalAmount:i.totalAmount,addItem:function(e){c({type:"Add",item:e})},removeItem:function(e){c({type:"Remove",id:e})}};return Object(r.jsx)(a.Provider,{value:l,children:e.children})};var T=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1];return Object(r.jsxs)(R,{children:[n&&Object(r.jsx)(j,{onClose:function(){i(!1)}}),Object(r.jsx)(p,{onShowCart:function(){i(!0)}}),Object(r.jsx)(w,{})]})};c.a.render(Object(r.jsx)(T,{}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.fff52b62.chunk.js.map